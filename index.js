import{a as m,S as g,i as c}from"./assets/vendor-mdVVRe9K.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const h="45922188-6c9bdbb7442dfc44aff321ea7",y="https://pixabay.com/api/";async function p(e,o=1,s=15){const r=new URLSearchParams({key:h,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:o,per_page:s});try{return(await m.get(`${y}?${r}`)).data}catch(t){throw console.error("Error fetching images:",t),t}}let l;function b(e){const o=document.querySelector(".gallery"),s=e.map(r=>`
    <a href="${r.largeImageURL}" class="gallery-link">
      <img src="${r.webformatURL}" alt="${r.tags}" loading="lazy" class="img-gallery"/>
      <ul class="list-wrapper">
        <li><b>Likes:</b> ${r.likes}</li>
        <li><b>Views:</b> ${r.views}</li>
        <li><b>Comments:</b> ${r.comments}</li>
        <li><b>Downloads:</b> ${r.downloads}</li>
      </ul>
    </a>
  `).join("");o.insertAdjacentHTML("beforeend",s),l?l.refresh():l=new g(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"})}function w(){const e=document.querySelector(".gallery");e.innerHTML=""}function d(e){const o=document.querySelector(".load-more");o.style.display=e?"block":"none"}let a=1,u="";const L=document.querySelector(".search-form"),S=document.querySelector('input[name="searchQuery"]'),C=document.querySelector(".load-more");L.addEventListener("submit",q);C.addEventListener("click",P);async function q(e){if(e.preventDefault(),u=S.value.trim(),!u){c.error({title:"Error",message:"Please enter a search query.",position:"topRight",backgroundColor:"red",messageColor:"white",titleColor:"white"});return}a=1,w(),await f()}async function P(){a+=1,await f()}async function f(){try{const e=await p(u,a);b(e.hits),$(),e.totalHits<=a*15?(d(!1),c.info({position:"topRight",message:"We're sorry, but you've reached the end of search results.",backgroundColor:"green",messageColor:"white",titleColor:"white"})):d(!0)}catch(e){console.error("Error:",e),c.error({position:"topRight",message:`Something went wrong: ${e.message}`,backgroundColor:"red",messageColor:"white",titleColor:"white"})}}function $(){const e=document.querySelector(".gallery a");if(e){const{height:o}=e.getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map
